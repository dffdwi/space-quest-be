'use strict';

const { v4: uuidv4 } = require('uuid');

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up(queryInterface, Sequelize) {
    const badgeIds = {
      FIRST_CONTACT: 'c8f9af97-bef2-4a0d-8962-91711370a9df',
      EXPLORER_INITIATE: 'aff831c5-37f1-47cd-be47-0c38cc4c6893',
      DILIGENT_COMMANDER: '5b6e40ce-1d8a-4b2f-a525-6a3b7966be38',
      LEVEL_5_CADET: '9bca3149-b4c6-457b-8d17-41299dbf1a63',
      RANK_1_GOLD: '6b851a93-2ee7-4387-b967-422059e0f1aa',
      RANK_2_SILVER: '5316b2ff-2b7a-402b-9918-d1d6c6890e1c',
      RANK_3_BRONZE: '9f30ea3c-63c4-4fe8-b541-a19933a71fd8',
    };

    const missionIds = {
      COMPLETE_1_TASK: '1af9bca1-7493-4676-b56d-88f28c01608e',
      COMPLETE_5_TASKS: '138af36a-8954-47a4-a171-d6e6b812b8d2',
      REACH_LEVEL_5: '8eea9fb6-ddf2-4d4b-9a4b-b501ab89c243',
      COMPLETE_20_TASKS: '22ad6498-c049-4820-90d7-846abf585c5f',
    };

    const shop_items = {
      NEBULA_DARK_THEME: 'f6f6ea62-f637-424f-ab08-f853c2403e03',
      GOLD_COMMANDER_FRAME: 'a3a22bfc-55f5-4611-9d7f-0f4644977563',
      XP_HYPER_BOOST_SMALL: '702c250e-182c-4af3-86da-e002a18946e6',
      STARFIELD_LIGHT_THEME: 'b79ddf25-092b-4cd4-a18b-b7b84fcb38be',
      AVATAR_BALLOON: '0bb2d41e-8e96-4a3b-8bd3-8b6a6f48825a',
      AVATAR_WORKER: '402b237f-fa68-4d45-a69b-40d64f8108b8',
      AVATAR_KARATE: 'bce0e175-ef34-497d-8783-2f8c9d562afe',
      AVATAR_SWIMMER: '8f265009-5900-4156-ba6b-10f39b491631',
      AVATAR_HOTDOG: '5920c52d-743d-401b-b1e3-5722ab68fac7',
      AVATAR_PIRATE: 'e9c8f8d1-e8c5-4de6-a997-a48d65c632f9',
      AVATAR_MONKEY: '78ae7d2b-e244-4843-b5bd-a44c127ab106',
      VOUCHER_50K: '895cde32-ea73-4c5f-83c9-2cbf42617e59',
      VOUCHER_30K: '81c1d5ad-0850-4525-b40c-38c77c00f663',
      VOUCHER_20K: '051a9685-12b5-450d-9a73-9abc60a5904f',
    };

    await queryInterface.bulkInsert('badges', [
      {
        badgeId: badgeIds.FIRST_CONTACT,
        name: 'First Contact',
        description: 'Complete your first mission log.',
        icon: 'FaRegLightbulb',
        color: 'text-yellow-400',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        badgeId: badgeIds.EXPLORER_INITIATE,
        name: 'Explorer Initiate',
        description: 'Complete 5 mission logs.',
        icon: 'FaSpaceShuttle',
        color: 'text-sky-400',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        badgeId: badgeIds.DILIGENT_COMMANDER,
        name: 'Diligent Commander',
        description: 'Complete 20 mission logs.',
        icon: 'FaUserAstronaut',
        color: 'text-purple-400',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        badgeId: badgeIds.LEVEL_5_CADET,
        name: 'Cadet Level 5',
        description: 'Reach Command Level 5.',
        icon: 'FaGraduationCap',
        color: 'text-indigo-400',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        badgeId: badgeIds.RANK_1_GOLD,
        name: 'Galactic Champion (Rank 1)',
        description: 'Achieved the #1 position on the Hall of Fame.',
        icon: 'FaCrown',
        color: 'text-amber-400',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        badgeId: badgeIds.RANK_2_SILVER,
        name: 'Elite Commander (Rank 2)',
        description: 'Achieved the #2 position on the Hall of Fame.',
        icon: 'FaMedal',
        color: 'text-slate-300',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        badgeId: badgeIds.RANK_3_BRONZE,
        name: 'Distinguished Captain (Rank 3)',
        description: 'Achieved the #3 position on the Hall of Fame.',
        icon: 'FaMedal',
        color: 'text-yellow-600',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ]);

    await queryInterface.bulkInsert('missions', [
      {
        missionId: missionIds.COMPLETE_1_TASK,
        title: 'The First Step',
        description: 'Complete your very first objective.',
        type: 'once',
        target: 1,
        rewardXp: 25,
        rewardCredits: 10,
        rewardBadgeId: badgeIds.FIRST_CONTACT,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        missionId: missionIds.COMPLETE_5_TASKS,
        title: 'Getting the Hang of It',
        description: 'Complete a total of 5 objectives.',
        type: 'once',
        target: 5,
        rewardXp: 50,
        rewardCredits: 20,
        rewardBadgeId: badgeIds.EXPLORER_INITIATE,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        missionId: missionIds.REACH_LEVEL_5,
        title: 'A Commander in the Making',
        description: 'Reach Level 5 and prove your capabilities.',
        type: 'once',
        target: 5,
        rewardXp: 200,
        rewardCredits: 100,
        rewardBadgeId: badgeIds.LEVEL_5_CADET,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        missionId: missionIds.COMPLETE_20_TASKS,
        title: 'Veteran Commander',
        description:
          'Complete a total of 20 objectives and prove your dedication.',
        type: 'once',
        target: 20,
        rewardXp: 200,
        rewardCredits: 75,
        rewardBadgeId: badgeIds.DILIGENT_COMMANDER,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ]);

    await queryInterface.bulkInsert('shop_items', [
      {
        itemId: shop_items.NEBULA_DARK_THEME,
        name: 'Nebula Dark Theme',
        description: 'A sleek, dark interface with vibrant nebula accents.',
        price: 250,
        type: 'theme',
        value: 'theme-nebula-dark',
        icon: 'FaPalette',
        category: 'Ship Customization',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.GOLD_COMMANDER_FRAME,
        name: 'Gold Commander Frame',
        description: 'A prestigious gold frame for your commander avatar.',
        price: 150,
        type: 'avatar_frame',
        value: 'gold-commander-frame',
        icon: 'FaStar',
        category: 'Commander Gear',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.XP_HYPER_BOOST_SMALL,
        name: 'XP Hyper-Boost (Small)',
        description: 'Doubles XP gained from the next 3 completed objectives.',
        price: 75,
        type: 'power_up',
        value: 'xp_boost_small',
        icon: 'FaFlask',
        category: 'Consumables',
        duration: 3,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.STARFIELD_LIGHT_THEME,
        name: 'Starfield Light Theme',
        description:
          'A bright and clear interface, like gazing upon a field of distant stars.',
        price: 200,
        type: 'theme',
        value: 'theme-starfield-light',
        icon: 'FaPalette',
        category: 'Ship Customization',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.AVATAR_BALLOON,
        name: 'Avatar: The Balloon',
        description:
          'A light and cheerful presence, ready to float to new heights.',
        price: 75,
        type: 'cosmetic',
        value: '/images/char-2.svg',
        icon: '/images/char-2.svg',
        category: 'Avatars',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.AVATAR_WORKER,
        name: 'Avatar: The Worker',
        description:
          'A diligent and hardworking commander, always ready for duty.',
        price: 75,
        type: 'cosmetic',
        value: '/images/char-3.svg',
        icon: '/images/char-3.svg',
        category: 'Avatars',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.AVATAR_KARATE,
        name: 'Avatar: The Karate',
        description:
          'A disciplined commander with swift and precise execution.',
        price: 75,
        type: 'cosmetic',
        value: '/images/char-4.svg',
        icon: '/images/char-4.svg',
        category: 'Avatars',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.AVATAR_SWIMMER,
        name: 'Avatar: The Swimmer',
        description:
          'A commander who navigates challenges with grace and fluidity.',
        price: 75,
        type: 'cosmetic',
        value: '/images/char-5.svg',
        icon: '/images/char-5.svg',
        category: 'Avatars',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.AVATAR_HOTDOG,
        name: 'Avatar: The Hotdog',
        description:
          'A fun-loving commander who brings the party to every mission.',
        price: 75,
        type: 'cosmetic',
        value: '/images/char-6.svg',
        icon: '/images/char-6.svg',
        category: 'Avatars',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.AVATAR_PIRATE,
        name: 'Avatar: The Pirate',
        description:
          'A bold adventurer, seeking treasure and glory across the cosmos.',
        price: 75,
        type: 'cosmetic',
        value: '/images/char-7.svg',
        icon: '/images/char-7.svg',
        category: 'Avatars',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.AVATAR_MONKEY,
        name: 'Avatar: The Monkey',
        description: 'An agile and resourceful commander, speed and precision',
        price: 75,
        type: 'cosmetic',
        value: '/images/char-8.svg',
        icon: '/images/char-8.svg',
        category: 'Avatars',
        duration: null,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.VOUCHER_50K,
        name: 'Voucher Rp.50.000',
        description: 'Redeem this voucher by exchanging your Rank 1 Badge.',
        price: 0,
        type: 'voucher',
        value: 'VOUCHER_50K',
        icon: 'FaGift',
        category: 'Vouchers',
        duration: null,
        requiredBadgeId: badgeIds.RANK_1_GOLD,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.VOUCHER_30K,
        name: 'Voucher Rp.30.000',
        description: 'Redeem this voucher by exchanging your Rank 2 Badge.',
        price: 0,
        type: 'voucher',
        value: 'VOUCHER_30K',
        icon: 'FaGift',
        category: 'Vouchers',
        duration: null,
        requiredBadgeId: badgeIds.RANK_2_SILVER,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        itemId: shop_items.VOUCHER_20K,
        name: 'Voucher Rp.20.000',
        description: 'Redeem this voucher by exchanging your Rank 3 Badge.',
        price: 0,
        type: 'voucher',
        value: 'VOUCHER_20K',
        icon: 'FaGift',
        category: 'Vouchers',
        duration: null,
        requiredBadgeId: badgeIds.RANK_3_BRONZE,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ]);
  },

  async down(queryInterface, Sequelize) {
    await queryInterface.bulkDelete('shop_items', null, {});
    await queryInterface.bulkDelete('missions', null, {});
    await queryInterface.bulkDelete('badges', null, {});
  },
};
